{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{423:function(e,t,a){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var l=p(a(28)),n=p(a(36));function i(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,\"value\"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}a(27),a(35);var o=a(20),s=a(24),r=a(26),u=a(23),d=a(22),c=p(a(32));function p(e){return e&&e.__esModule?e:{default:e}}var f=n.default.confirm,m=\"c0059HandBook.add\",h=\"c0059HandBook.edit\",w=\"c0059HandBook.del\",v=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(O,e.Component),function(e,t,a){t&&i(e.prototype,t),a&&i(e,a)}(O,[{key:\"componentDidMount\",value:function(){this.getList()}},{key:\"componentWillUnmount\",value:function(){this.setState=function(e,t){}}},{key:\"getSearchFormOptions\",value:function(){return[{type:\"Input\",label:\"关键字搜索\",name:\"parameters\",span:10,length:5,placeholder:\"请输入机场名称（全称）、三字码（全称）、四字码（全称）搜索\"}]}},{key:\"getFormOptions\",value:function(){var e=this.state,t=e.currentAction,a=e.currentData,l=\"add\"==t?{}:a,n=[\"R\",\"A\",\"F\",\"P\",\"R/A\"],i=[{type:\"Input\",label:\"机场中文名\",name:\"arpName\",span:8,options:{initialValue:l.arpName,rules:[{required:!0,message:\"机场中文名不可为空\"}]}},{type:\"Input\",label:\"三字码\",name:\"arpCode\",span:8,placeholder:\"如：ADL\",options:{initialValue:l.arpCode,rules:[{required:!0,message:\"三字码不可为空！\"},{pattern:/^[A-Z]{3}$/,message:\"请输入正确的三字码\"}]}},{type:\"Input\",label:\"四字码\",name:\"icaoCode\",span:8,placeholder:\"如：YPAD\",options:{initialValue:l.icaoCode,rules:[{required:!0,message:\"四字码不可为空！\"},{pattern:/^[A-Z]{4}$/,message:\"请输入正确的四字码\"}]}},{type:\"Select\",label:\"E190\",name:\"e190Value\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.e190Value}},{type:\"Select\",label:\"A319-100\",name:\"value100OfA319\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value100OfA319}},{type:\"Select\",label:\"A320-200\",name:\"value200OfA320\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value200OfA320}},{type:\"Select\",label:\"A321-200\",name:\"value200OfA321\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value200OfA321}},{type:\"Select\",label:\"A330-200\",name:\"value200OfA330\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value200OfA330}},{type:\"Select\",label:\"A330-300\",name:\"value300OfA330\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value300OfA330}},{type:\"Select\",label:\"A380-800\",name:\"value800OfA380\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value800OfA380}},{type:\"Select\",label:\"B737-700\",name:\"value700OfB737\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value700OfB737}},{type:\"Select\",label:\"B757-200\",name:\"value200OfB757\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value200OfB757}},{type:\"Select\",label:\"B777-200\",name:\"value200OfB777\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value200OfB777}},{type:\"Select\",label:\"B777F\",name:\"b777fvalue\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.b777fvalue}},{type:\"Select\",label:\"B747-400F\",name:\"value400fOfB747\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value400fOfB747}},{type:\"Select\",label:\"B777-300ER\",name:\"value300erOfB777\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value300erOfB777}},{type:\"Select\",label:\"B787-8\",name:\"value8OfB787\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value8OfB787}},{type:\"Select\",label:\"BOEING/737/-8\",name:\"value8OfBoeing737\",list:n,span:8,isHasAllSelect:!1,allowClear:!0,options:{initialValue:l.value8OfBoeing737}}];return\"edit\"==t&&(i[0].disabled=!0,i[1].disabled=!0,i[2].disabled=!0),i}},{key:\"render\",value:function(){var t=this,a=this.state,l=a.table,n=a.modalOkBtnLoading,i=a.currentAction,o=a.selectedRowKeys,s=a.authorityList,u=this.getSearchFormOptions(),d={aligin:\"left\",span:6,list:[{text:\"查询\",options:\"queryOpt\",event:this.search},{text:\"重置\",options:\"resetOpt\",event:this.reset}]},c={key:\"arpCode\",columns:this.columns,table:l,scroll:{x:\"max-content\"},rowSelection:{selectedRowKeys:o,onChange:function(e,a){t.onChecked(e,a)}},onChange:this.getList},p={options:{title:\"add\"==i?\"新增\":\"edit\"==i?\"修改\":\"\",width:\"820px\",okButtonProps:{loading:n}},onRef:function(e){t.modal=e},ok:this.submit.bind(this)},f=this.getFormOptions();return e.createElement(r.CardCommon,null,s&&e.createElement(r.CommonForm,{options:u,btnOptions:d,wrappedComponentRef:function(e){e&&e.props&&e.props.form&&(t.searcForm=e.props.form)}}),e.createElement(\"div\",{className:\"buttons\"},e.createElement(r.CommonBtns,{options:{shape:\"round\",size:\"small\"},btns:this.state.btns})),s&&e.createElement(r.CommonTable,{options:c,onChecked:this.onChecked}),!s&&e.createElement(\"div\",{className:\"no-authority-box\"},\"无权限查看\"),e.createElement(r.CommonModal,p,e.createElement(\"div\",{className:\"form-grid-7\"},e.createElement(r.CommonForm,{options:f,wrappedComponentRef:function(e){e&&e.props&&e.props.form&&(t.form=e.props.form)}}))))}}]),O);function O(e){!function(e,t){if(!(e instanceof O))throw new TypeError(\"Cannot call a class as a function\")}(this);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,e));return t.getList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=t.state.table;a.setPage(e);var l=a.getParmaData();(0,d.post)({url:\"c0039HandBook/queryC0039HandBookByParam\",data:l,success:function(e){if(e&&e.rows){var n=e.rows.map(function(e,t){return e.index=(l.pageNum-1)*l.pageSize+t+1,e});a.setPage({dataList:n,total:e.total,pageNum:l.pageNum,pageSize:l.pageSize}),t.setState({table:a,selectedRowKeys:[],selectedRows:[]})}}})},t.onChecked=function(e,a){t.setState({selectedRowKeys:e,selectedRows:a})},t.search=function(){t.searcForm.validateFields(function(e,a){e||(a=(0,u.handleInParams)(a),t.getList({params:a,pageNum:1}))})},t.reset=function(){t.searcForm.resetFields(),t.search()},t.add=function(e){e(),t.setState({currentAction:\"add\"}),t.modal.show()},t.edit=function(e){0==t.state.selectedRows.length?(e(),l.default.warning(\"必须选择一个选项才能编辑！\")):1<t.state.selectedRows.length?(e(),l.default.warning(\"只能选择一个选项！\")):(e(),t.setState({currentAction:\"edit\",currentData:t.state.selectedRows[0]}),t.modal.show())},t.submit=function(){t.setState({modalOkBtnLoading:!0}),t.form.validateFields(function(e,a){var n,i;e?t.setState({modalOkBtnLoading:!1}):(a=(0,u.handleInParams)(a),i=\"add\"==t.state.currentAction?(n=\"c0039HandBook/addC0039HandBook\",\"添加成功\"):(n=\"c0039HandBook/updateC0039HandBook\",\"修改成功\"),(0,d.post)({url:n,data:a,btn:function(){return t.setState({modalOkBtnLoading:!1})},success:function(e){l.default.success(i),t.modal.hide(),t.getList({pageNum:1})}}))})},t.del=function(e){if(0==t.state.selectedRows.length)e(),l.default.warning(\"请至少选择一行数据\");else{var a=t.state.selectedRows.map(function(e){return e.arpCode}),n=t.state.selectedRows.map(function(e){return e.arpName});f({title:\"确认删除【\"+n.join(\"、\")+\"】吗?\",okType:\"danger\",onOk:function(){(0,d.post)({url:\"c0039HandBook/deleteC0039HandBook\",data:{arpList:a},btn:e,success:function(e){l.default.success(\"删除成功\"),t.getList({pageNum:1})}})},onCancel:e})}},t.state={table:new c.default,selectedRowKeys:[],selectedRows:[],btns:[{name:\"新增\",id:m,icon:\"plus-circle\",onClick:t.add},{name:\"修改\",id:h,icon:\"edit\",onClick:t.edit},{name:\"删除\",id:w,icon:\"minus-circle\",onClick:t.del}].filter(function(t){return(0,u.isAuthority)(t.id,e.authority)}),modalOkBtnLoading:!1,currentAction:\"\",currentData:{},authorityList:(0,u.isAuthority)(\"c0059HandBook.list\",e.authority)},t.columns=[{title:\"序号\",dataIndex:\"index\",width:50},{title:\"机场名称\",dataIndex:\"arpName\",width:200},{title:\"三字码\",dataIndex:\"arpCode\",width:70},{title:\"四字码\",dataIndex:\"icaoCode\",width:70},{title:\"E190\",dataIndex:\"e190Value\",width:50},{title:\"A319-100\",dataIndex:\"value100OfA319\",width:90},{title:\"A320-200\",dataIndex:\"value200OfA320\",width:90},{title:\"A321-200\",dataIndex:\"value200OfA321\",width:90},{title:\"A330-200\",dataIndex:\"value200OfA330\",width:90},{title:\"A330-300\",dataIndex:\"value300OfA330\",width:90},{title:\"A380-800\",dataIndex:\"value800OfA380\",width:90},{title:\"B737-700\",dataIndex:\"value700OfB737\",width:90},{title:\"B757-200\",dataIndex:\"value200OfB757\",width:90},{title:\"B777-200\",dataIndex:\"value200OfB777\",width:90},{title:\"B777F\",dataIndex:\"b777fvalue\",width:70},{title:\"B747-400F\",dataIndex:\"value400fOfB747\",width:90},{title:\"B777-300ER\",dataIndex:\"value300erOfB777\",width:100},{title:\"B787-8\",dataIndex:\"value8OfB787\",width:70},{title:\"BOEING/737/-8\",dataIndex:\"value8OfBoeing737\",width:120}],t.modal,t.form,t}t.default=(0,s.connect)(function(e){return{authority:e.authority}})((0,o.withRouter)(v))}).call(this,a(1))}}]);","extractedComments":[]}