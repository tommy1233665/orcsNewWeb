{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{427:function(t,e,n){\"use strict\";(function(t){Object.defineProperty(e,\"__esModule\",{value:!0});var i,o=(i=n(28))&&i.__esModule?i:{default:i};function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n(27);var r=n(20),u=n(24),s=n(25),m=n(23),l=n(22),p=(function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,t.Component),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(c,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"componentWillUnmount\",value:function(){this.setState=function(t,e){}}},{key:\"getFormOptions\",value:function(){var t=this.state.formValues;return[{type:\"Input\",name:\"minL\",span:2,options:{initialValue:t.minL}},{type:\"Input\",name:\"maxL\",span:2,options:{initialValue:t.maxL}},{type:\"Input\",name:\"minM\",span:2,options:{initialValue:t.minM}},{type:\"Input\",name:\"maxM\",span:2,options:{initialValue:t.maxM}},{type:\"Input\",name:\"minH\",span:2,options:{initialValue:t.minH}},{type:\"Input\",name:\"maxH\",span:2,options:{initialValue:t.maxH}}]}},{key:\"render\",value:function(){var e=this,n=this.state.authorityList,i=this.getFormOptions(),o={aligin:\"left\",span:12,list:[{text:\"保存\",options:\"saveOpt\",event:this.submit},{text:\"重置\",options:\"resetOpt\",event:this.reset}]};return t.createElement(s.CardCommon,{className:\"rmItem-fun-point\"},n&&t.createElement(s.CommonForm,{options:i,btnOptions:o,wrappedComponentRef:function(t){t&&t.props&&t.props.form&&(e.form=t.props.form)}}),!n&&t.createElement(\"div\",{className:\"no-authority-box\"},\"无权限查看\"))}}]),c);function c(t){!function(t,e){if(!(t instanceof c))throw new TypeError(\"Cannot call a class as a function\")}(this);var e=function(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return e.getData=function(){(0,l.post)({url:\"rmItemFunPoint/queryFunPoints\",success:function(t){var n={};t.forEach(function(t){switch(t.level){case\"L\":n.minL=t.minValue,n.maxL=t.maxValue;break;case\"M\":n.minM=t.minValue,n.maxM=t.maxValue;break;case\"H\":n.minH=t.minValue,n.maxH=t.maxValue}}),e.setState({formValues:n})}})},e.submit=function(){e.state.authorityEdit?e.form.validateFields(function(t,n){if(!t){n=(0,m.handleInParams)(n);var i=[Number(n.minL),Number(n.maxL),Number(n.minM),Number(n.maxM),Number(n.minH),Number(n.maxH)];(0,l.post)({url:\"rmItemFunPoint/update\",data:{funPoints:i},success:function(t){o.default.success(\"保存成功\"),e.getData()}})}}):o.default.info(\"无权限修改\")},e.reset=function(){e.state.authorityEdit?e.form.resetFields():o.default.info(\"无权限重置\")},e.state={formValues:{},authorityEdit:(0,m.isAuthority)(\"rmItemFunPoint.edit\",t.authority),authorityList:(0,m.isAuthority)(\"rmItemFunPoint.list\",t.authority)},e}e.default=(0,u.connect)(function(t){return{authority:t.authority}})((0,r.withRouter)(p))}).call(this,n(1))}}]);","extractedComments":[]}