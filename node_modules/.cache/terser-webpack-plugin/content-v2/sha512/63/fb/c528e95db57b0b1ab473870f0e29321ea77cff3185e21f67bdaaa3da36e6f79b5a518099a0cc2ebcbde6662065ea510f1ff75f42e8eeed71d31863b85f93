{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{424:function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var o,a=(o=n(25))&&o.__esModule?o:{default:o};function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n(24);var r=n(23),u=n(26),s=n(21),m=(function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,e.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(p,[{key:\"componentDidMount\",value:function(){this.getData()}},{key:\"componentWillUnmount\",value:function(){this.setState=function(e,t){}}},{key:\"getFormOptions\",value:function(){var e=this.state.formValues;return[{type:\"Input\",name:\"minL\",span:2,options:{initialValue:e.minL}},{type:\"Input\",name:\"maxL\",span:2,options:{initialValue:e.maxL}},{type:\"Input\",name:\"minM\",span:2,options:{initialValue:e.minM}},{type:\"Input\",name:\"maxM\",span:2,options:{initialValue:e.maxM}},{type:\"Input\",name:\"minH\",span:2,options:{initialValue:e.minH}},{type:\"Input\",name:\"maxH\",span:2,options:{initialValue:e.maxH}}]}},{key:\"render\",value:function(){var t=this,n=this.getFormOptions(),o={aligin:\"left\",span:12,list:[{text:\"保存\",options:\"saveOpt\",event:this.submit},{text:\"重置\",options:\"resetOpt\",event:this.reset}]};return e.createElement(r.CardCommon,{className:\"rmItem-fun-point\"},e.createElement(r.CommonForm,{options:n,btnOptions:o,wrappedComponentRef:function(e){e&&e.props&&e.props.form&&(t.form=e.props.form)}}))}}]),p);function p(e){!function(e,t){if(!(e instanceof p))throw new TypeError(\"Cannot call a class as a function\")}(this);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,e));return t.getData=function(){(0,s.post)({url:\"rmItemFunPoint/queryFunPoints\",success:function(e){var n={};e.forEach(function(e){switch(e.level){case\"L\":n.minL=e.minValue,n.maxL=e.maxValue;break;case\"M\":n.minM=e.minValue,n.maxM=e.maxValue;break;case\"H\":n.minH=e.minValue,n.maxH=e.maxValue}}),t.setState({formValues:n})}})},t.submit=function(){t.form.validateFields(function(e,n){if(!e){n=(0,u.handleInParams)(n);var o=[Number(n.minL),Number(n.maxL),Number(n.minM),Number(n.maxM),Number(n.minH),Number(n.maxH)];(0,s.post)({url:\"rmItemFunPoint/update\",data:{funPoints:o},success:function(e){a.default.success(\"保存成功\"),t.getData()}})}})},t.reset=function(){t.form.resetFields()},t.state={formValues:{}},t}t.default=m}).call(this,n(1))}}]);","extractedComments":[]}